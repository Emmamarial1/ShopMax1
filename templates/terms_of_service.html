{% extends "base.html" %}

{% block title %}Terms of Service - ShopMax{% endblock %}

{% block content %}
<div class="container py-5">
    <!-- Header -->
    <div class="row mb-5">
        <div class="col-lg-10 mx-auto text-center">
            <h1 class="display-4 fw-bold text-primary mb-4">Terms of Service</h1>
            <p class="lead text-muted">Last updated: December 1, 2024</p>
            <div class="alert alert-info">
                <i class="fas fa-info-circle me-2"></i>
                Please read these terms carefully before using ShopMax services.
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-10 mx-auto">
            <!-- Quick Navigation -->
            <div class="card shadow-sm mb-4">
                <div class="card-body">
                    <h5 class="card-title">Quick Navigation</h5>
                    <div class="d-flex flex-wrap gap-2">
                        <a href="#acceptance" class="btn btn-outline-primary btn-sm">1. Acceptance</a>
                        <a href="#accounts" class="btn btn-outline-primary btn-sm">2. Accounts</a>
                        <a href="#buying" class="btn btn-outline-primary btn-sm">3. Buying</a>
                        <a href="#selling" class="btn btn-outline-primary btn-sm">4. Selling</a>
                        <a href="#payments" class="btn btn-outline-primary btn-sm">5. Payments</a>
                        <a href="#prohibited" class="btn btn-outline-primary btn-sm">6. Prohibited</a>
                        <a href="#liability" class="btn btn-outline-primary btn-sm">7. Liability</a>
                        <a href="#termination" class="btn btn-outline-primary btn-sm">8. Termination</a>
                    </div>
                </div>
            </div>

            <!-- Terms Content -->
            <div class="card shadow-lg border-0">
                <div class="card-body p-5">
                    <!-- Introduction -->
                    <section class="mb-5">
                        <h2 class="h4 text-primary mb-3">Welcome to ShopMax</h2>
                        <p>These Terms of Service ("Terms") govern your access to and use of ShopMax's website, mobile applications, and services (collectively, the "Platform"). Please read these Terms carefully before using our Platform.</p>
                        <p>By accessing or using our Platform, you agree to be bound by these Terms and our Privacy Policy. If you disagree with any part of these Terms, you may not access our Platform.</p>
                    </section>

                    <!-- 1. Acceptance of Terms -->
                    <section id="acceptance" class="mb-5">
                        <h2 class="h4 text-primary mb-3">1. Acceptance of Terms</h2>
                        <p>By registering for an account or using ShopMax in any manner, you agree to these Terms and all other operating rules, policies, and procedures that we may publish on the Platform.</p>
                        <div class="alert alert-warning">
                            <strong>Important:</strong> These Terms constitute a legally binding agreement between you and ShopMax. You must be at least 18 years old to use our Platform.
                        </div>
                    </section>

                    <!-- 2. User Accounts -->
                    <section id="accounts" class="mb-5">
                        <h2 class="h4 text-primary mb-3">2. User Accounts</h2>
                        <h5 class="mb-3">2.1 Account Registration</h5>
                        <ul>
                            <li>You must provide accurate, current, and complete information during registration</li>
                            <li>You must keep your account information updated</li>
                            <li>You are responsible for maintaining the confidentiality of your login credentials</li>
                            <li>You are solely responsible for all activities that occur under your account</li>
                            <li>You must immediately notify us of any unauthorized use of your account</li>
                        </ul>

                        <h5 class="mb-3">2.2 Account Types</h5>
                        <ul>
                            <li><strong>Buyer Accounts:</strong> For purchasing products on the Platform</li>
                            <li><strong>Seller Accounts:</strong> For listing and selling products (requires additional verification)</li>
                            <li><strong>Admin Accounts:</strong> For platform administration</li>
                        </ul>

                        <h5 class="mb-3">2.3 Account Suspension</h5>
                        <p>We reserve the right to suspend or terminate accounts that:</p>
                        <ul>
                            <li>Violate these Terms or applicable laws</li>
                            <li>Provide false information during registration</li>
                            <li>Engage in fraudulent or suspicious activities</li>
                            <li>Create multiple accounts for abusive purposes</li>
                        </ul>
                    </section>

                    <!-- 3. Buying on ShopMax -->
                    <section id="buying" class="mb-5">
                        <h2 class="h4 text-primary mb-3">3. Buying on ShopMax</h2>
                        <h5 class="mb-3">3.1 Order Process</h5>
                        <ul>
                            <li>Placing an order constitutes an offer to purchase products</li>
                            <li>Orders are subject to acceptance by the seller</li>
                            <li>Sellers have the right to cancel orders at their discretion</li>
                            <li>Prices are as listed at the time of order placement</li>
                        </ul>

                        <h5 class="mb-3">3.2 Payment</h5>
                        <ul>
                            <li>All payments are processed through secure payment gateways</li>
                            <li>We support mobile money, credit/debit cards, and bank transfers</li>
                            <li>Payment is collected when the order is confirmed</li>
                            <li>Funds are held in escrow until order completion</li>
                        </ul>

                        <h5 class="mb-3">3.3 Delivery</h5>
                        <ul>
                            <li>Delivery times are estimates and not guarantees</li>
                            <li>Buyers are responsible for providing accurate delivery addresses</li>
                            <li>Risk of loss passes to buyer upon delivery confirmation</li>
                            <li>Buyers must inspect products upon delivery</li>
                        </ul>
                    </section>

                    <!-- 4. Selling on ShopMax -->
                    <section id="selling" class="mb-5">
                        <h2 class="h4 text-primary mb-3">4. Selling on ShopMax</h2>
                        <h5 class="mb-3">4.1 Seller Requirements</h5>
                        <ul>
                            <li>Must be at least 18 years old</li>
                            <li>Must provide valid identification and business information</li>
                            <li>Must comply with all applicable laws and regulations</li>
                            <li>Must maintain accurate product information</li>
                        </ul>

                        <h5 class="mb-3">4.2 Product Listings</h5>
                        <ul>
                            <li>Listings must be accurate, complete, and not misleading</li>
                            <li>Products must be in the condition described</li>
                            <li>Prohibited items may not be listed (see Section 6)</li>
                            <li>Sellers are responsible for product quality and safety</li>
                        </ul>

                        <h5 class="mb-3">4.3 Subscription Plans</h5>
                        <ul>
                            <li>Sellers must choose and maintain an active subscription plan</li>
                            <li>Subscription fees are non-refundable</li>
                            <li>Plans auto-renew unless cancelled</li>
                            <li>We reserve the right to modify subscription fees with notice</li>
                        </ul>
                    </section>

                    <!-- 5. Payments and Fees -->
                    <section id="payments" class="mb-5">
                        <h2 class="h4 text-primary mb-3">5. Payments and Fees</h2>
                        <h5 class="mb-3">5.1 Transaction Fees</h5>
                        <ul>
                            <li>No commission fees on sales</li>
                            <li>Sellers pay only subscription fees</li>
                            <li>Payment processing fees may apply</li>
                            <li>All fees are displayed before transaction completion</li>
                        </ul>

                        <h5 class="mb-3">5.2 Payouts</h5>
                        <ul>
                            <li>Seller earnings are released after successful delivery</li>
                            <li>Payouts are processed within 3-5 business days</li>
                            <li>Sellers are responsible for providing accurate payout information</li>
                            <li>We may withhold payments in case of disputes</li>
                        </ul>

                        <h5 class="mb-3">5.3 Refunds and Returns</h5>
                        <ul>
                            <li>Refund policies are set by individual sellers</li>
                            <li>Buyers must follow seller's return process</li>
                            <li>Disputes are mediated by ShopMax support team</li>
                            <li>Chargebacks may result in account suspension</li>
                        </ul>
                    </section>

                    <!-- 6. Prohibited Activities -->
                    <section id="prohibited" class="mb-5">
                        <h2 class="h4 text-primary mb-3">6. Prohibited Activities</h2>
                        <div class="alert alert-danger">
                            <strong>Warning:</strong> Violation of these rules may result in immediate account termination.
                        </div>

                        <h5 class="mb-3">6.1 Prohibited Items</h5>
                        <ul>
                            <li>Illegal drugs, substances, or paraphernalia</li>
                            <li>Weapons, firearms, or ammunition</li>
                            <li>Stolen goods or counterfeit items</li>
                            <li>Adult content or explicit material</li>
                            <li>Hazardous materials or chemicals</li>
                            <li>Live animals or endangered species</li>
                            <li>Human remains or body parts</li>
                            <li>Government documents or identification</li>
                        </ul>

                        <h5 class="mb-3">6.2 Prohibited Conduct</h5>
                        <ul>
                            <li>Fraudulent or deceptive practices</li>
                            <li>Harassment or abuse of other users</li>
                            <li>Spamming or unsolicited communications</li>
                            <li>Circumventing Platform fees or policies</li>
                            <li>Infringing on intellectual property rights</li>
                            <li>Manipulating reviews or ratings</li>
                            <li>Sharing false or misleading information</li>
                            <li>Attempting to gain unauthorized access</li>
                        </ul>
                    </section>

                    <!-- 7. Liability and Disclaimers -->
                    <section id="liability" class="mb-5">
                        <h2 class="h4 text-primary mb-3">7. Liability and Disclaimers</h2>
                        <h5 class="mb-3">7.1 Platform "As Is"</h5>
                        <p>The Platform is provided on an "as is" and "as available" basis. We make no warranties, expressed or implied, regarding the Platform's operation or the information, content, or products available through the Platform.</p>

                        <h5 class="mb-3">7.2 Limitation of Liability</h5>
                        <p>To the fullest extent permitted by law, ShopMax shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use of or inability to use the Platform.</p>

                        <h5 class="mb-3">7.3 User Disputes</h5>
                        <p>ShopMax is not responsible for disputes between buyers and sellers. We provide tools to help resolve disputes but are not party to transactions between users.</p>
                    </section>

                    <!-- 8. Termination -->
                    <section id="termination" class="mb-5">
                        <h2 class="h4 text-primary mb-3">8. Termination</h2>
                        <h5 class="mb-3">8.1 By You</h5>
                        <p>You may terminate your account at any time by contacting support or using account deletion features in your settings.</p>

                        <h5 class="mb-3">8.2 By Us</h5>
                        <p>We may suspend or terminate your access to the Platform immediately, without prior notice, for conduct that we believe violates these Terms or is harmful to other users, us, or third parties, or for any other reason.</p>

                        <h5 class="mb-3">8.3 Effect of Termination</h5>
                        <ul>
                            <li>Your right to use the Platform immediately ceases</li>
                            <li>Outstanding financial obligations remain payable</li>
                            <li>We may retain your information as required by law</li>
                            <li>Provisions that should survive termination will do so</li>
                        </ul>
                    </section>

                    <!-- 9. Intellectual Property -->
                    <section class="mb-5">
                        <h2 class="h4 text-primary mb-3">9. Intellectual Property</h2>
                        <h5 class="mb-3">9.1 ShopMax Content</h5>
                        <p>All content on the Platform, including text, graphics, logos, and software, is the property of ShopMax or its content suppliers and protected by intellectual property laws.</p>

                        <h5 class="mb-3">9.2 User Content</h5>
                        <p>By posting content on the Platform, you grant us a non-exclusive, worldwide, royalty-free license to use, display, and distribute your content in connection with operating the Platform.</p>

                        <h5 class="mb-3">9.3 Copyright Complaints</h5>
                        <p>We respect intellectual property rights. If you believe your work has been copied in a way that constitutes copyright infringement, please contact us at legal@shopmax.com.</p>
                    </section>

                    <!-- 10. Governing Law -->
                    <section class="mb-5">
                        <h2 class="h4 text-primary mb-3">10. Governing Law and Dispute Resolution</h2>
                        <h5 class="mb-3">10.1 Governing Law</h5>
                        <p>These Terms shall be governed by and construed in accordance with the laws of Uganda, without regard to its conflict of law provisions.</p>

                        <h5 class="mb-3">10.2 Dispute Resolution</h5>
                        <p>Any dispute arising from these Terms shall be resolved through friendly negotiations. If negotiations fail, disputes shall be submitted to the courts of Uganda.</p>

                        <h5 class="mb-3">10.3 Class Action Waiver</h5>
                        <p>You agree to resolve disputes on an individual basis and waive any right to participate in class actions.</p>
                    </section>

                    <!-- 11. Changes to Terms -->
                    <section class="mb-5">
                        <h2 class="h4 text-primary mb-3">11. Changes to Terms</h2>
                        <p>We reserve the right to modify these Terms at any time. We will provide notice of material changes through the Platform or via email. Continued use of the Platform after changes constitutes acceptance of the modified Terms.</p>
                    </section>

                    <!-- 12. Contact Information -->
                    <section class="mb-5">
                        <h2 class="h4 text-primary mb-3">12. Contact Information</h2>
                        <p>If you have any questions about these Terms, please contact us:</p>
                        <ul>
                            <li><strong>Email:</strong> legal@shopmax.com</li>
                            <li><strong>Address:</strong> Uganda Christian University, Mukono, Uganda</li>
                            <li><strong>Phone:</strong> +256 700 123 456</li>
                        </ul>
                    </section>

                    <!-- Acceptance Section -->
                    <section class="text-center mt-5 p-4 bg-light rounded">
                        <h3 class="mb-3">Acceptance of Terms</h3>
                        <p class="mb-4">By using ShopMax, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service.</p>
                        <div class="d-flex justify-content-center gap-3 flex-wrap">
                            <a href="{{ url_for('register_buyer') }}" class="btn btn-primary">I Accept - Create Buyer Account</a>
                            <a href="{{ url_for('register_seller') }}" class="btn btn-outline-primary">I Accept - Create Seller Account</a>
                        </div>
                    </section>
                </div>
            </div>

            <!-- Additional Legal Links -->
            <div class="row mt-4">
                <div class="col-md-6">
                    <div class="card border-0 bg-light">
                        <div class="card-body text-center">
                            <i class="fas fa-lock fa-2x text-primary mb-3"></i>
                            <h5>Privacy Policy</h5>
                            <p class="text-muted">Learn how we protect and use your personal information</p>
                            <a href="{{ url_for('privacy_policy') }}" class="btn btn-outline-primary">View Privacy Policy</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card border-0 bg-light">
                        <div class="card-body text-center">
                            <i class="fas fa-cookie fa-2x text-primary mb-3"></i>
                            <h5>Cookie Policy</h5>
                            <p class="text-muted">Understand how we use cookies and tracking technologies</p>
                            <a href="{{ url_for('cookie_policy') }}" class="btn btn-outline-primary">View Cookie Policy</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
section {
    scroll-margin-top: 100px;
}

.card {
    border-radius: 12px;
}

.alert {
    border-radius: 8px;
    border: none;
}

.btn-outline-primary {
    border-radius: 20px;
}

h2, h3, h4, h5 {
    color: var(--primary);
}

ul {
    padding-left: 1.5rem;
}

li {
    margin-bottom: 0.5rem;
    line-height: 1.6;
}

.quick-navigation {
    position: sticky;
    top: 100px;
    z-index: 100;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    // Add active class to navigation buttons when section is in view
    const sections = document.querySelectorAll('section');
    const navButtons = document.querySelectorAll('.btn-outline-primary');

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const id = entry.target.getAttribute('id');
                navButtons.forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.getAttribute('href') === `#${id}`) {
                        btn.classList.add('active');
                    }
                });
            }
        });
    }, {
        threshold: 0.5,
        rootMargin: '-100px 0px -100px 0px'
    });

    sections.forEach(section => {
        observer.observe(section);
    });

    // Print functionality
    const printButton = document.createElement('button');
    printButton.innerHTML = '<i class="fas fa-print me-2"></i>Print Terms';
    printButton.className = 'btn btn-outline-secondary position-fixed';
    printButton.style.bottom = '20px';
    printButton.style.right = '20px';
    printButton.style.zIndex = '1000';
    
    printButton.addEventListener('click', function() {
        window.print();
    });
    
    document.body.appendChild(printButton);

    // Add "Back to Top" button
    const backToTopButton = document.createElement('button');
    backToTopButton.innerHTML = '<i class="fas fa-arrow-up"></i>';
    backToTopButton.className = 'btn btn-primary position-fixed';
    backToTopButton.style.bottom = '70px';
    backToTopButton.style.right = '20px';
    backToTopButton.style.zIndex = '1000';
    backToTopButton.style.width = '50px';
    backToTopButton.style.height = '50px';
    backToTopButton.style.borderRadius = '50%';
    
    backToTopButton.addEventListener('click', function() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });
    
    document.body.appendChild(backToTopButton);

    // Show/hide back to top button based on scroll position
    window.addEventListener('scroll', function() {
        if (window.pageYOffset > 300) {
            backToTopButton.style.display = 'block';
        } else {
            backToTopButton.style.display = 'none';
        }
    });

    // Initialize tooltips
    const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    const tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });
});
</script>

<!-- Print Styles -->
<style media="print">
    .btn, .alert, .card.shadow-sm, .position-fixed {
        display: none !important;
    }
    
    .card {
        box-shadow: none !important;
        border: 1px solid #ddd !important;
    }
    
    body {
        font-size: 12pt;
        line-height: 1.4;
    }
    
    h1, h2, h3, h4, h5 {
        color: #000 !important;
    }
    
    a {
        color: #000 !important;
        text-decoration: none !important;
    }
</style>
{% endblock %}